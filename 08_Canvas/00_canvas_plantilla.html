<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Canvas tutorial</title>

    <script type="text/javascript">
      var ctx;

      function dibujar() {

        if(ctx){
          ctx.fillStyle = 'red';
          ctx.fillRect(10,10,30,60);
          ctx.fillStyle = 'rgba(0,255,0,0.5)';
          ctx.fillRect(20,20,40,40);
        }
      }

      function inicializar() {
        canvas = document.querySelector("#tutorial");

        //Esto es per a saber si existeix el canvas
        if (canvas.getContext) ctx = canvas.getContext("2d");
        var boton = document.getElementById("boton");
        boton.addEventListener("click", dibujar);
      }

      document.addEventListener("DOMContentLoaded", inicializar);
    </script>
    <style type="text/css">
      canvas {
        border: 1px solid black;
      }
    </style>
  </head>

  <body>
    <div>
      <button type="button" id="boton">Dibuja</button>
    </div>

    <canvas id="tutorial" width="150" height="150"></canvas>
  </body>
</html>
