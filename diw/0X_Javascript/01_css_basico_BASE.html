<!DOCTYPE html>
<html lang="va_ES">
<head>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="./01_css_basico_styles.css">
<style>
      
.volcan {
	background-color:darkgrey;
	text-align:center;
}

.terremoto {
	border:2px solid orange;
}

</style>

<script>

function clic(event) {



}
/* imposible fer esta funcion
function up(event){
// se les coses que falten
	let posXUp = event.pageX;

	if (posXDown > posXUp)
		event.target.style.textAlign = "right";
	else
		event.target.style.textAlign = "left";

}*/


function down(event){

	// se coses
	let posXDown = event.pageX;

	event.target.addEventListener("mouseup",function funcionUp(eventUp)  {
		let posXUp = eventUp.pageX;
		console.log("mouseUp posXDown" + posXDown + " posXUp"+				posXUp);
		if (posXDown < posXUp)
			event.target.style.textAlign = "right";
		else
			event.target.style.textAlign = "left";

		event.target.removeEventListener("mouseup", funcionUp);

	} );
}


function mostrarHojasEstilo(elemento){

	let hojas = document.styleSheets;

	let arrayHojas = Array.from(hojas);
	arrayHojas.forEach((hoja) => {
		elemento.innerHTML += " - " + hoja.href +"<br>";

		if (elemento.href == null) return;
		let reglas = hoja.cssRules;
		let arrayReglas = Array.from(reglas);
		arrayReglas.forEach((regla) => {
		console.log("dato " + regla.selectorText);
			elemento.innerHTML += "Selector " + regla.selectorText;
			elemento.innerHTML += "Regla" + regla.cssText || regla.style.cssText + "<br>";
		});
	});

}

function mostrarEstilo(evento){

	let elementoClic = evento.target;

	let fondo = elementoClic.style.background;
	fondo = elementoClic.style.getPropertyValue("background");
	let estiloAplicado = getComputedStyle(elementoClic);
	fondo = estiloAplicado.backgroundColor;
//	console.log(estiloAplicado);
	console.log("El elemento clicado tiene un fondo: " + fondo);

}

function inicializar(){

 // document.addEventListener("mouseup",up);
  document.addEventListener("mousedown",down);

	let elDivHojas = document.getElementById("hojas");
//	elDivHojas.innerHTML="Hola soy el contenido de Hojas";

	mostrarHojasEstilo(elDivHojas);


	let hijos = document.children;
	Array.from(hijos).forEach((hijo) => {
		hijo.addEventListener("click",mostrarEstilo);
	});

}

document.addEventListener("DOMContentLoaded", inicializar);
</script>

</head>
<body>

<h3>hojas</h3>
<div id="hojas"> </div>


<h3>reglas</h3>
<div id="reglas"> </div>


<p class="volcan"> Esto es un volcán </p>
<p class="terremoto"> Esto es un terrmoto </p>
<p class="maremoto"> Esto es un maremoto </p>
<p class="inundacion"> Esto es una inundación </p>
<div >Ejercicio: En los elementos de esta página, pinchar y arrastrar el puntero a la derecha (dentro dle mismo recuadro), justifica eltexto a la derecha. Hacerlo a la izquierda, justifica
	el texto a la izquierda
</div>
</body>
</html>
